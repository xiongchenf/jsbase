<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>原型与原型链</title>
</head>

<body>
    <ul>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
        <li>scoll<br/><br/><br/><br/></li>
    </ul>
    <script>
        function throttle(fn, wait) {
            // 最后一次调用的时间
            let last = 0;
            return function() {
                // 调用函数时的this对象
                let context = this;
                // 参数
                let args = arguments;
                // 当前的时间点
                let now = +new Date();
                // 如果当前触发时间减去最后上一次触发时间大于等待时间
                if (now - last > wait) {
                    // 充值等待时间
                    last = now;
                    // 触发fn
                    fn.apply(context, args)
                }
            }
        }

        const scroll = throttle((e) => {console.log(e)}, 300);

        // const scroll = () => { console.log(1) }

        document.addEventListener('scroll', scroll);
    </script>
</body>
</html>